{"version":3,"sources":["webpack:///./src/views/EditBook.vue","webpack:///./src/views/EditBook.vue?c85e","webpack:///./node_modules/core-js/modules/es.array.some.js","webpack:///./src/views/EditBook.vue?25f3","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["class","for","ref","type","updateBook","book","title","id","required","author","bookDelete","getSortedBooks","item","key","to","indexOf","name","data","this","$route","params","genres","mounted","refresh","methods","editBook","$router","push","deleteBook","some","chips","Chips","Array","from","init","$refs","placeholder","secondaryPlaceholder","onChipAdd","c","tags","M_Chips","chipsData","map","tag","onChipDelete","bookFound","computed","findBookById","getBookGenres","watch","render","__scopeId","$","$some","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","undefined","$indexOf","nativeIndexOf","NEGATIVE_ZERO","ACCESSORS","1","searchElement","apply"],"mappings":"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","file":"js/chunk-a26f6212.e7ae4426.js","sourcesContent":["<template>\n  <div class=\"row\">\n    <h3 class=\"title flow-text\">Редактировать книгу</h3>\n    <p class=\"subtitle flow-text\">\n      Здесь вы можете ознакомится с содержимым вашей книги и отредактировать её\n    </p>\n    <form class=\"col s12\" @submit.prevent=\"updateBook\">\n      <div class=\"row\">\n        <div class=\"input-field col s6\">\n          <input v-model=\"book.title\" id=\"book_title\" type=\"text\" class=\"validate\" required>\n          <label for=\"book_title\" class=\"active\">Название книги</label>\n        </div>\n        <div class=\"input-field col s6\">\n          <input v-model=\"book.author\" id=\"book_author\" type=\"text\" class=\"validate\" required>\n          <label for=\"book_author\" class=\"active\">Автор</label>\n        </div>\n      </div>\n      <p class=\"text flow-text\">Вы можете изменить жанры вашей книги</p>\n      <div class=\"chips col s12\" ref=\"chips\"></div>\n      <button type=\"submit\" class=\"btn waves-effect waves-light\">Обновить</button>\n      <button type=\"button\" class=\"btn waves-effect waves-light red darken-4\"\n      @click=\"bookDelete\">Удалить</button>\n    </form>\n  </div>\n  <ul class=\"pagination\">\n    <li :class=\"{active: item.id === book.id}\" v-for=\"item of getSortedBooks\" v-bind:key=\"item.id\">\n      <router-link :to=\"{ name: 'editBook', params: { id: item.id }}\">\n        {{ getSortedBooks.indexOf(item) + 1 }}\n      </router-link>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport M from 'materialize-css';\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'editBook',\n  data() {\n    return {\n      book: {\n        id: +this.$route.params.id,\n        title: '',\n        author: '',\n        genres: [],\n      },\n    };\n  },\n  mounted() {\n    this.refresh();\n  },\n  methods: {\n    ...mapActions(['editBook', 'deleteBook']),\n    updateBook() {\n      this.editBook(this.book);\n    },\n    bookDelete() {\n      this.$router.push({ name: 'booksList' });\n      this.deleteBook(this.book.id);\n    },\n    refresh() {\n      if (this.getSortedBooks.some((item) => item.id === +this.$route.params.id)) {\n        const chips = M.Chips;\n        const genres = Array.from(this.genres);\n        chips.init(this.$refs.chips, {\n          placeholder: 'Введите жанры',\n          secondaryPlaceholder: 'Введите жанры',\n          data: genres,\n          onChipAdd: (c) => {\n            const tags = c[0].M_Chips.chipsData.map((item) => item.tag);\n            this.book.genres = tags;\n          },\n          onChipDelete: (c) => {\n            const tags = c[0].M_Chips.chipsData.map((item) => item.tag);\n            this.book.genres = tags;\n          },\n        });\n        this.book = { ...this.bookFound };\n      }\n    },\n  },\n  computed: {\n    ...mapGetters(['findBookById', 'getBookGenres', 'getSortedBooks']),\n    bookFound() { return this.findBookById(+this.$route.params.id); },\n    genres() { return this.getBookGenres(this.book.id); },\n  },\n  watch: {\n    $route() {\n      this.refresh();\n    },\n  },\n};\n</script>\n\n<style scoped>\n  button {\n    margin-top: 50px;\n  }\n  button:last-of-type {\n    margin-left: 15px;\n  }\n  .title {\n    margin-bottom: 40px;\n  }\n  .subtitle {\n    margin-bottom: 50px;\n  }\n  .pagination {\n    margin-top: 50px;\n  }\n  .chips {\n    margin-top: 50px;\n  }\n</style>\n","import { render } from \"./EditBook.vue?vue&type=template&id=4e8bad0a&scoped=true\"\nimport script from \"./EditBook.vue?vue&type=script&lang=js\"\nexport * from \"./EditBook.vue?vue&type=script&lang=js\"\n\nimport \"./EditBook.vue?vue&type=style&index=0&id=4e8bad0a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4e8bad0a\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditBook.vue?vue&type=style&index=0&id=4e8bad0a&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}